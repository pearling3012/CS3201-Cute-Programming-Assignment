# TodoTracker

A client-server todo tracking application built with Python sockets. The server manages a shared todo list that multiple clients can connect to and interact with concurrently.

### Requirements
```
- Python 3.x
- Linux/macOS/Windows (tested on Linux)
```

## How to Run

You can run the application using either Python commands or Makefile.

### Using Makefile

**Start the server** (in Terminal 1):
```bash
make server
```

**Start the client** (in Terminal 2):
```bash
make client-test      # Connects to 127.0.0.1:18222 automatically
```

Or for interactive mode:
```bash
make client           # Prompts for IP and port
```

Then enter:
```
Server IP: 127.0.0.1
Server Port: 18222
```

After successful connection, you will see:
```
Connected to 127.0.0.1:18222
Connected to server.
client: 
```
You can now type commands: `ADD`, `LIST`, `REMOVE`, `MARK`, or `QUIT`.

---

### Using Python Commands

**Start the server** (in Terminal 1):
```bash
python3 TodoTrackerServer_59257310_59016540.py
```
The server will listen on port `18222`.

**Start the client** (in Terminal 2):

With IP and port as arguments:
```bash
python3 TodoTrackerClient_59257310_59016540.py 127.0.0.1 18222
```

Or run without arguments to enter IP and port interactively:
```bash
python3 TodoTrackerClient_59257310_59016540.py
```
Then enter:
```
Server IP: 127.0.0.1
Server Port: 18222
```

After successful connection, you will see:
```
Connected to 127.0.0.1:18222
Connected to server.
client: 
```

You can now type commands: `ADD`, `LIST`, `REMOVE`, `MARK`, or `QUIT`.

---

## Commands

The client supports the following commands:

### ADD
Add a new task to the todo list. Enter the task description line by line, and end with a line containing only `#`.

```
client: ADD
client: Buy groceries
client: Milk and eggs
client: #
server: OK
```

### LIST
Display all tasks in the todo list.

```
client: LIST
server: Happy Socket Programming
server: TASK ID: 0000 | RECEIVED TIME: 2025-01-15 10:00:00 | STATUS: pending
server: Buy groceries
server: Milk and eggs
server: #
```

### REMOVE
Remove one or more tasks by their IDs. Enter IDs line by line, and end with `#`.

```
client: REMOVE
client: 0000
client: 0001
client: #
server: OK
```

If any ID is invalid:
```
server: ERROR - Invalid ID
```

### MARK
Toggle the status of tasks (between `pending` and `completed`). Enter IDs line by line, and end with `#`.

```
client: MARK
client: 0000
client: #
server: OK
```

If any ID is invalid:
```
server: ERROR - Invalid ID
```

### QUIT
Disconnect from the server and exit the client.

```
client: QUIT
server: OK
```

---

### Example Session

```
# Terminal 1: Server
$ make server
Server listening on port 18222...

# Terminal 2: Client
$ make client-test
Connected to 127.0.0.1:18222
Connected to server.
client: WRONG COMMAND
server: ERROR - Command not understood
client: ADD
client: Buy groceries
client: Milk and eggs
client: #
server: OK
client: ADD
client: Attend CS3201
client: #
server: OK
client: LIST
server: Happy Socket Programming
server: TASK ID: 0000 | RECEIVED TIME: 2025-11-15 19:34:30 | STATUS: pending
server: Buy groceries
server: Milk and eggs
server: TASK ID: 0001 | RECEIVED TIME: 2025-11-15 19:34:38 | STATUS: pending
server: Attend CS3201
client: MARK
client: INVALID ID
client: #
server: ERROR - Invalid ID
client: MARK
client: 0000
client: #
server: OK
client: LIST
server: Happy Socket Programming
server: TASK ID: 0000 | RECEIVED TIME: 2025-11-15 19:34:30 | STATUS: completed
server: Buy groceries
server: Milk and eggs
server: TASK ID: 0001 | RECEIVED TIME: 2025-11-15 19:34:38 | STATUS: pending
server: Attend CS3201
client: REMOVE
client: INVALID ID
client: #
server: ERROR - Invalid ID
client: REMOVE
client: 0000
client: 0001
client: #
server: OK
client: LIST
server: Happy Socket Programming
client: QUIT
server: OK
```

---

### Architecture

#### Project Structure

```
CS3201/
├── TodoTrackerServer_59257310_59016540.py      # Server application
├── TodoTrackerClient_59257310_59016540.py      # Client application
├── Makefile                                    # Build and run commands
├── README_59257310_59016540.md                 # This file
└── Report_59257310_59016540.pdf                # Project report
```


#### Server (`TodoTrackerServer.py`)
- Creates a TCP socket and listens on port 18222
- Uses threading to handle multiple concurrent clients
- Maintains a global task list in memory
- Each task has:
  - `id`: 4-digit zero-padded ID (e.g., "0000", "0001")
  - `time`: Timestamp when task was created
  - `status`: Either "pending" or "completed"
  - `content`: Multi-line task description

#### Client (`TodoTrackerClient.py`)
- Connects to server via TCP socket
- Supports command-line arguments for IP/port or interactive input
- Implements command handlers for each operation
- Properly closes socket on QUIT

### Protocol Details

- **Line-based communication**: All messages are terminated with `\n`
- **Multi-line input**: Commands that accept multiple lines (ADD, REMOVE, MARK) use `#` as the end marker
- **Error handling**: Invalid commands return `ERROR - Command not understood`

### Notes

- **Server port**: Listens on `0.0.0.0:18222` by default
- **Tasks storage**: Tasks are stored in server memory and will be lost when the server is restarted
- **Task IDs**: Auto-generated 4-digit zero-padded numbers (e.g., "0000", "0001") that increment sequentially
- **Concurrent connections**: The server supports up to 20 concurrent connections
- **Timestamp format**: All timestamps use the format `YYYY-MM-DD HH:MM:SS`

### Troubleshooting

**Connection refused:**
- Ensure the server is running before starting the client
- Check that the IP address and port are correct (Port must be between 1024 and 65535)
- Verify firewall settings allow the connection

**Invalid ID errors:**
- Task IDs must be 4-digit zero-padded numbers (e.g., "0000", not "0")
- Ensure tasks exist before trying to REMOVE or MARK them

### License

This project is part of CS3201 coursework.

